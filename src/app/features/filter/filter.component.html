<h3>Filtres :</h3>

<p> {{ amount().displayed }} affichés sur {{ amount().total }} ({{ amount().displayed / amount().total * 100 }}%)</p>

<input type="checkbox" id="ignoreWhenNoData" (change)="toggleIgnoreWhenNoData()">
<label for="ignoreWhenNoData"> Masquer les points n'ayant pas d'analyse quantifiée</label>

<hr>

<p>Type : </p>
<ul class="checkboxes">
  @for (type of this.surveillanceTypes(); track $index) {
    <li> 
      <input type="checkbox" id="{{ type }}" (change)="toggleTypeFilter(type)" checked>
      <label for="{{ type }}"> {{ type }}</label>
    </li>
  }
</ul>

<hr>

<p> Résultats :</p>

<p> Masquer les points dont un des résultats quantifiés est supérieur ou égal à :</p>
<input type="number" id="upper" (input)="selectRange($event, null)">
<label for="upper"> µg/L</label>

<p> Masquer les points dont un des résultats quantifiés est inférieur ou égal à :</p>
<input type="number" id="lower" (input)="selectRange(null, $event)">
<label for="lower"> µg/L</label>

<hr>

<p> Masquer les points dont la date d'un des résultats quantifiés est supérieure ou égale à :</p>
<input type="date" id="upper" (input)="selectDateRange($event, null)">

<p> Masquer les points dont la date d'un des résultats quantifiés est inférieure ou égale à :</p>
<input type="date" id="lower" (input)="selectDateRange(null, $event)">


<hr>

<p> Filtrer par comunes :</p>

@for (name of displayedCommunes(); track $index) {
  <button (click)="updateCommunes(name, 'remove')"> {{ name }}</button>
}

<input type="text" id="commune" (input)="communeInput($event)">

<div class="suggestions">
  @for (name of suggestedCommunes(); track $index) {
    <div class="commune" (click)="updateCommunes(name, 'add')">
      <span> {{ name }}</span>
    </div>
  }
</div>